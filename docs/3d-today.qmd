---
title:  "Today Table"
author: <br><br><br><br><span style="font-family:perpetua; font-variant:small-caps; color:#606060;">Kerry Back</span><br><br><img src="RiceBusiness-transparent-logo-sm.png"  height=80>
execute:
  echo: false
  jupyter: python3
  cache: true
format: 
  revealjs:
    highlight-style: monokai
    code-fold: true
    code-copy: hover
    scrollable: true
    slide-number: true
    preview-links: true
    self-contained: true
    controls: true
    transition: fade
    theme: [solarized, 2023.scss]
    incremental: true
---

## Today's values of predictors

- Suppose we build and backtest a model based on certain predictors.  
- To decide what trades to make today, we need to know the values of the predictors today for each stock in our universe.
- This is where the Nasdaq/Sharadar data can be useful.
- We need to compute the predictors - ratios, growth rates, etc.

## The today table

- I coded a few of the GHZ predictors.  Their values are updated every night for all stocks in the Rice SQL database.
- The updated values are in the today table.
- 
- Other predictors could be coded also.

## Connect to the Rice database

. . .

```.p
import pandas as pd
import pymssql
from sqlalchemy import create_engine

server = 'fs.rice.edu'
database = 'stocks'
username = 'stocks'
password = '6LAZH1'
string = "mssql+pymssql://" + username + ":" + password + "@" + server + "/" + database 

conn = create_engine(string).connect()
```

## The today table

. . .

```.p
df = pd.read_sql(
    "select * from today where ticker in ('AAPL', 'CVX')", 
    conn
  )
df.set_index("ticker").T
```

. . .

```{python}
import pandas as pd
import pymssql
from sqlalchemy import create_engine

server = 'fs.rice.edu'
database = 'stocks'
username = 'stocks'
password = '6LAZH1'
string = "mssql+pymssql://" + username + ":" + password + "@" + server + "/" + database 

conn = create_engine(string).connect()
df = pd.read_sql(
    "select * from today where ticker in ('AAPL', 'CVX')", 
    conn
  )
df.set_index("ticker").T

```

